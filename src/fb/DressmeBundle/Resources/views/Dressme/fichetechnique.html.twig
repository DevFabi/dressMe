{% extends "DressmeBundle:Dressme:home.html.twig" %}

 {% block body %}
    <style>
      /* NOUVEAU TABLEAU */
.tab {
	background-color: white;
}

</style>
<br>
<div class="row">
<div class="col-sm-4 col-xs-2"></div>
<!--  BOUTON AJOUTER Fiche: Ouvre un modal -->
<div class="col-sm-4 col-xs-6"><button type="button" class="btn btn-primary btn-block btn-lg" data-toggle="modal" data-target="#ajoutFiche">+ Ajouter une fiche</button></div>

<!-- MODAL AJOUTER Fiche -->
<div id="ajoutFiche" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Ajout d'une fiche</h4>
      </div>
      <div class="modal-body">
    {{ form(form) }}
  {{ form_rest(form) }}
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>

  </div>
</div>
<!-- FIN DU MODAL AJOUTER Fiche -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script>
$(document).ready(function(){
  $("#myInput").on("keyup", function() {
    var value = $(this).val().toLowerCase();
    $("#myTable tr").filter(function() {
      $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
    });
  });
});
</script>


<div class="col-sm-4 col-xs-4"></div>
</div> <br><br>
<div class="tab">
<div class="container">
	
		<div class="col-xs-12 col-sm-12 col-md-12 ">
			<div class="table-responsive">
				
			  <table class="table">
			  	<input id="myInput" type="text" placeholder="Rechercher..">
			        <thead>
				      <tr>
				        <th>id</th>
				        <th>Date</th>
				        <th>Client</th>
                
				      </tr>
				    </thead>
				    <tbody id="myTable">
				    	 {% for fiche in fiche %}
       
				      <tr>
				        <td>{{ fiche.id }}</td>
				        <td>{{ fiche.date|date('Y-m-d') }}</td>
				        {% for fiche in fiche.client %}
				        <td>{{ fiche.nom }} {{ fiche.prenom }}</td>
				        {% endfor %}
				        <td><button type="button" class="btn btn-primary" data-toggle="modal" data-target="#voirFiche">Voir</button>
<button type="button" class="btn btn-danger " data-toggle="modal" data-target="#supprimerFiche">Supprimer</button></td>

				      </tr>
				      {% endfor %}
<!-- MODAL MODIFICATION Fiche -->
<div id="voirFiche" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Fiche de :</h4>
      </div>
      <div class="modal-body">
        <p>Contenu de la fiche technique</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>

  </div>
</div>
<!-- FIN MODAL MODIFICATION -->
<!-- MODAL SUPPRESSION Fiche -->
<div id="supprimerFiche" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Supprimer la fiche</h4>
      </div>
      <div class="modal-body">
        <p>Êtes-vous sûr de vouloir supprimer cette fiche ?</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div> 

  </div>
</div>
<!-- FIN MODAL SUPPRESSION -->



				    </tbody>
			  </table>
			</div>
		</div>
	
</div>
</div>



   {% endblock %}